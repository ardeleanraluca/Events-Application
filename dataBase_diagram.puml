@startuml
!define primary_key(x) <b><color:#b8861b><&key></color>x</b>
!define foreign_key(x)<color:#aaaaaa><&key></color>x

!theme plain
top to bottom direction
skinparam linetype ortho

class bought_tickets {
   primary_key(id): bigint
   foreign_key(type_ticked_id): bigint <<FK>>
   foreign_key(user_id): bigint <<FK>>
}
class events {
   primary_key(id): bigint
   foreign_key(hall_id): bigint <<FK>>
   foreign_key(organizer_id): bigint <<FK>>
   category: varchar(255)
   date: varchar(255)
   description: varchar(255)
   hour: varchar(255)
   name: varchar(255)
}
class favorite_events {
   foreign_key(primary_key(user_id)): bigint <<FK>>
   foreign_key(primary_key(event_id)): bigint <<FK>>
}
class halls {
   primary_key(id): bigint
   address: varchar(255)
   no_seats: bigint
}
class organizers {
   primary_key(id): bigint
   foreign_key(account_id): bigint <FK>>
}
class roles {
   primary_key(id): bigint
   name: varchar(255)
}
class tickets {
   primary_key(id): bigint
   catetogy: varchar(255)
   discount: double precision
   price: double precision
   event_id: bigint
}
class user_accounts {
   primary_key(id): bigint
   foreign_key(role_id: integer) <<FK>>
   email: varchar(255)
   name: varchar(255)
   password: varchar(255)
}
class users {
   primary_key(id): bigint
   foreign_key(account_id): bigint <<FK>>
   city: varchar(255)
   county: varchar(255)
   date_of_birth: varchar(255)
}

bought_tickets   -[#595959,plain]-^  tickets         : "type_ticked_id:id"
bought_tickets   -[#595959,plain]-^  users           : "user_id:id"
events           -[#595959,plain]-^  halls           : "hall_id:id"
events           -[#595959,plain]-^  organizers      : "organizer_id:id"
favorite_events  -[#595959,plain]-^  events          : "event_id:id"
favorite_events  -[#595959,plain]-^  users           : "user_id:id"
organizers       -[#595959,plain]-^  user_accounts   : "account_id:id"
tickets          -[#595959,plain]-^  events          : "event_id:id"
user_accounts    -[#595959,plain]-^  roles           : "role_id:id"
users            -[#595959,plain]-^  user_accounts   : "account_id:id"
@enduml
